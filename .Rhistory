library(tidytuesdayR)
library(tidytuesdayR)
tuesdata <- tidytuesdayR::tt_load('2025-09-16')
all_recipes <- tuesdata$all_recipes
cuisines <- tuesdata$cuisines
View(cuisines)
cuisines$url[1]
length(unique(cuisines$url))
View(all_recipes)
colnmames(cuisines)
View(cuisines)
colnames(cuisines)
cuisines %>%
group_by(country) %>%
summarize(colnames(cuisines)[7:17] = mean(calories:servings), n = n()
colnames(cuisines)[7:17]
cuisines %>%
group_by(country) %>%
summarize(colnames(cuisines)[7:17] = mean(calories:servings), n = n())
cuisine_names <- colnames(cuisines)[7:17]
cuisines %>%
group_by(country) %>%
summarize(calories = mean(calories))
cuisine_names <- colnames(cuisines)[7:17]
cuisines %>%
group_by(country) %>%
summarize()
cuisine_names <- colnames(cuisines)[7:17]
cuisines %>%
group_by(country) %>%
summarize(mean = mean(calories))
# Load packages
library(tidyverse)
# Load in data
library(tidytuesdayR)
tuesdata <- tidytuesdayR::tt_load('2025-09-16')
all_recipes <- tuesdata$all_recipes
cuisines <- tuesdata$cuisines
cuisine_names <- colnames(cuisines)[7:17]
cuisines %>%
group_by(country) %>%
summarise(mean = mean(calories))
cuisine_names <- colnames(cuisines)[7:17]
cuisines %>%
group_by(country) %>%
summarise(mean = mean(calories, na.rm = TRUE))
cuisine_names <- colnames(cuisines)[7:17]
cuisines %>%
group_by(country) %>%
summarise(cuisine_names = mean(calories:servings, na.rm = TRUE))
cuisines %>%
group_by(country) %>%
rowwise() %>%
mutate(mean = mean(c_across(colnames(cuisines)[7:17]), na.rm = TRUE)) %>%
ungroup()
cuisines %>%
group_by(country) %>%
rowwise() %>%
mutate(mean = mean(c_across(colnames(cuisines)[7:17]), na.rm = TRUE)) %>%
ungroup()
cuisines %>%
group_by(country) %>%
mutate(mean = mean(c_across(colnames(cuisines)[7:17]), na.rm = TRUE)) %>%
ungroup()
cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisine)[7:17], mean, na.rm = TRUE)
ungroup()
cuisines %>%
summarise_at(colnames(cuisine)[7:17], mean, na.rm = TRUE)
cuisines %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE)
cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# Load packages
library(tidyverse)
library(knitr)
# Load in data
library(tidytuesdayR)
tuesdata <- tidytuesdayR::tt_load('2025-09-16')
all_recipes <- tuesdata$all_recipes
cuisines <- tuesdata$cuisines
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
kable(cuisines_summary, caption = "Recipes summarized by country")
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
kable(cuisines_summary[1:10], caption = "Excerpt recipes summarized by country")
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
kable(cuisines_summary[1:10], caption = "Excerpt recipes summarized by country")
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
ggplot(data = cuisines_summary, aes(x = calories, y = fat))
+ geom_point()
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point()
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_economist()
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = carbs)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = protein)) +
geom_point() +
theme_minimal()
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cor.test(select(cuisines_summary, calo))
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cor.test(select(cuisines_summary, calories))
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cor.test(select(cuisines_summary, colnames(cuisines)[7:17]))
select(cuisines_summary, colnames(cuisines)[7:17])
cor(select(cuisines_summary, colnames(cuisines)[7:17]))
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cusines_summary %>%
select(colnames(cuisines)[7:17]) %>%
cor()
round(2)
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = carbs)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = protein)) +
geom_point() +
theme_minimal()
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cusines_summary %>%
select(colnames(cuisines)[7:17]) %>%
cor()
round(2)
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = carbs)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = protein)) +
geom_point() +
theme_minimal()
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cusines_summary %>%
select(colnames(cuisines)[7:17]) %>%
cor() %>%
round(2)
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = carbs)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = protein)) +
geom_point() +
theme_minimal()
cusines_summary %>%
select(colnames(cuisines)[7:17]) %>%
cor() %>%
round(2)
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cuisines_summary %>%
select(colnames(cuisines)[7:17]) %>%
cor() %>%
round(2)
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = carbs)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = protein)) +
geom_point() +
theme_minimal()
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cor_mat <- cuisines_summary %>%
select(colnames(cuisines)[7:17]) %>%
cor() %>%
round(2)
cor_mat_melted <- melt(cor_mat)
ggplot(data = cuisines_summary, aes(x = calories, y = fat)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = carbs)) +
geom_point() +
theme_minimal()
ggplot(data = cuisines_summary, aes(x = calories, y = protein)) +
geom_point() +
theme_minimal()
# Load packages
library(tidyverse)
library(knitr)
library(reshape2)
# Load in data
library(tidytuesdayR)
tuesdata <- tidytuesdayR::tt_load('2025-09-16')
all_recipes <- tuesdata$all_recipes
cuisines <- tuesdata$cuisines
cuisines_summary <- cuisines %>%
group_by(country) %>%
summarise_at(colnames(cuisines)[7:17], mean, na.rm = TRUE) %>%
ungroup()
# kable(cuisines_summary[1:10,], caption = "Excerpt recipes summarized by country")
cor_mat <- cuisines_summary %>%
select(colnames(cuisines)[7:17]) %>%
cor() %>%
round(2)
cormat_melted <- melt(cor_mat)
ggplot(data = cormat_melted, aes(x = Var1, y = Var2, fill = value)) +
geom_tile() +
geom_text(aes(Var2, Var1, label = value), size = 5) +
scale_fill_gradient2(low = "blue", high = "red",
limit = c(-1, 1), name = "Correlation") +
theme(axis.title.x = element_blank(), axis.title.y = element_blank(),
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),
panel.background = element_blank())
ggplot(data = cuisines_summary) +
geom_point(aes(x = calories, y = fat, colour = "yellow")) +
geom_point(aes(x = calories, y = carbs, colour = "red")) +
geom_point(aes(x = calories, y = protein, colour = "green")) +
theme_minimal()
ggplot(data = cuisines_summary) +
geom_point(aes(x = calories, y = fat, colour = "yellow")) +
geom_point(aes(x = calories, y = carbs, colour = "red")) +
geom_point(aes(x = calories, y = protein, colour = "green")) +
geom_smooth(aes(x = calories, y = fat, colour = "yellow"), method='lm') +
geom_smooth(aes(x = calories, y = carbs, colour = "red"), method='lm') +
geom_smooth(aes(x = calories, y = protein, colour = "green"), method='lm') +
theme_minimal()
ggplot(data = cuisines_summary) +
geom_point(aes(x = calories, y = fat)) +
geom_point(aes(x = calories, y = carbs)) +
geom_point(aes(x = calories, y = protein)) +
geom_smooth(aes(x = calories, y = fat, colour = "yellow"), method='lm') +
geom_smooth(aes(x = calories, y = carbs, colour = "red"), method='lm') +
geom_smooth(aes(x = calories, y = protein, colour = "green"), method='lm') +
theme_minimal()
ggplot(data = cuisines_summary) +
geom_point(aes(x = calories, y = fat, colour = "Fat")) +
geom_point(aes(x = calories, y = carbs, colour = "Carbs")) +
geom_point(aes(x = calories, y = protein, colour = "Protein")) +
geom_smooth(aes(x = calories, y = fat, colour = "yellow"), method='lm') +
geom_smooth(aes(x = calories, y = carbs, colour = "red"), method='lm') +
geom_smooth(aes(x = calories, y = protein, colour = "green"), method='lm') +
theme_minimal()
ggplot(data = cuisines_summary) +
geom_point(aes(x = calories, y = fat, colour = "Fat")) +
geom_point(aes(x = calories, y = carbs, colour = "Carbs")) +
geom_point(aes(x = calories, y = protein, colour = "Protein")) +
geom_smooth(aes(x = calories, y = fat, colour = "Fat"), method = "lm") +
geom_smooth(aes(x = calories, y = carbs, colour = "Carbs"), method = "lm") +
geom_smooth(aes(x = calories, y = protein, colour = "Protein"), method = "lm") +
theme_minimal()
ggplot(data = cuisines_summary) +
geom_point(aes(x = calories, y = fat, colour = "Fat")) +
geom_point(aes(x = calories, y = carbs, colour = "Carbs")) +
geom_point(aes(x = calories, y = protein, colour = "Protein")) +
geom_smooth(aes(x = calories, y = fat, colour = "Fat"), method = "lm", se = FALSE) +
geom_smooth(aes(x = calories, y = carbs, colour = "Carbs"), method = "lm") +
geom_smooth(aes(x = calories, y = protein, colour = "Protein"), method = "lm") +
theme_minimal()
ggplot(data = cuisines_summary) +
geom_point(aes(x = calories, y = fat, colour = "Fat")) +
geom_point(aes(x = calories, y = carbs, colour = "Carbs")) +
geom_point(aes(x = calories, y = protein, colour = "Protein")) +
geom_smooth(aes(x = calories, y = fat, colour = "Fat"), method = "lm", se = FALSE) +
geom_smooth(aes(x = calories, y = carbs, colour = "Carbs"), method = "lm", se = FALSE) +
geom_smooth(aes(x = calories, y = protein, colour = "Protein"), method = "lm", se = FALSE) +
theme_minimal()
library(devtools)
devtools::install_github("josefinabernardo/gnomesims")
library(gnomesims)
detach("package:base", unload = TRUE)
rm(list = ls())
detach("package:gnomesims", unload = TRUE)
library(devtools)
devtools::install_github("josefinabernardo/gnomesims")
devtools::install_github("josefinabernardo/gnomesims", force = TRUE)
library(gnomesims)
gnome_power_data
df <- data.frame(IQ = 0:200)
View(df)
?pnorm
df <- data.frame(IQ = 0:200)
df$Male <- dnorm(df$IQ, mean = 100.74, sd = 13.97)
df$Female <- dnorm(df$IQ, mean = 101.31, sd = 14.62)
View(df)
?reshape
?reshapeLong
reshape(df, direction.= wide)
reshape(df, direction = wide)
reshape(df, direction = "wide")
df_long <- reshape(df, idvare = IQ, direction = "wide")
reshape(df, idvar = IQ, direction = "wide")
reshape(df, idvar = "IQ", direction = "wide")
reshape(df, idvar = "IQ", direction = "wide")
reshape(df, idvar = "IQ", ids = 2:3, direction = "wide")
data.frame(IQ = 0:200,
Male = dnorm(IQ, mean = 100.74, sd = 13.97),
Female = dnorm(df$IQ, mean = 101.31, sd = 14.62))
df <- data.frame(IQ = 0:200,
Male = dnorm(0:200, mean = 100.74, sd = 13.97),
Female = dnorm(0:200, mean = 101.31, sd = 14.62))
df_long <- df |>
pivot_longer(
cols = Male:Female,
names_to = "Sex",
values_to = "Probability Density")
library(tidyverse)
df <- data.frame(IQ = 0:200,
Male = dnorm(0:200, mean = 100.74, sd = 13.97),
Female = dnorm(0:200, mean = 101.31, sd = 14.62))
df_long <- df |>
pivot_longer(
cols = Male:Female,
names_to = "Sex",
values_to = "Probability Density")
library(tidyplots)
df |>
tidyplot(x = IQ, y = `Probability Density`, color = Sex) |>
add_mean_line()
View(df_long)
df |>
tidyplot(x = IQ, y = "Probability Density", color = "Sex") |>
add_mean_line()
df_long |>
tidyplot(x = IQ, y = "Probability Density", color = "Sex") |>
add_mean_line()
df_long |>
tidyplot(x = IQ, y = "Probability Density", color = "Sex")
df_long |>
tidyplot(x = IQ, y = "Probability Density", color = "Sex") |>
add_mean_dot()
df_long |>
tidyplot(x = IQ, y = "Density", color = "Sex") |>
add_mean_dot()
df_long <- df |>
pivot_longer(
cols = Male:Female,
names_to = "Sex",
values_to = "Density")
library(tidyplots)
df_long |>
tidyplot(x = IQ, y = "Density", color = "Sex") |>
add_mean_dot()
df_long |>
tidyplot(x = IQ, y = Density, color = Sex) |>
add_mean_line()
df_long |>
tidyplot(x = IQ, y = `Probability Density`, color = Sex) |>
add_mean_line()
df_long <- df |>
pivot_longer(
cols = Male:Female,
names_to = "Sex",
values_to = "Probability Density")
library(tidyplots)
df_long |>
tidyplot(x = IQ, y = `Probability Density`, color = Sex) |>
add_mean_line()
df_long |>
tidyplot(x = IQ, y = `Probability Density`, color = Sex) |>
add_mean_line() |>
add_title("Sex Differences in IQ based Giofré et al. (2024), n = 540")
df <- data.frame(IQ = 75:125,
Male = dnorm(75:125, mean = 100.74, sd = 13.97),
Female = dnorm(75:125, mean = 101.31, sd = 14.62))
df_long <- df |>
pivot_longer(
cols = Male:Female,
names_to = "Sex",
values_to = "Probability Density")
library(tidyplots)
df_long |>
tidyplot(x = IQ, y = `Probability Density`, color = Sex) |>
add_mean_line() |>
add_title("Sex Differences in IQ based Giofré et al. (2024), n = 540")
df <- data.frame(IQ = 55:145,
Male = dnorm(55:145, mean = 100.74, sd = 13.97),
Female = dnorm(55:145, mean = 101.31, sd = 14.62))
df_long <- df |>
pivot_longer(
cols = Male:Female,
names_to = "Sex",
values_to = "Probability Density")
library(tidyplots)
df_long |>
tidyplot(x = IQ, y = `Probability Density`, color = Sex) |>
add_mean_line() |>
add_title("Sex Differences in IQ based Giofré et al. (2024), n = 540")
table3 <- gnomesims::gnome_mx_simulation(ct = seq(0,.1,.05), si = seq(0,.1,.05),
nloci = 100,
npgsloci = 10, nmz = 4000, ndz = 8000)
remove.packages("OpenMx")
"OpenMx" %in% installed.packages()
install.packages("OpenMx")
table3 <- gnomesims::gnome_mx_simulation(ct = seq(0,.1,.05), si = seq(0,.1,.05),
nloci = 100,
npgsloci = 10, nmz = 4000, ndz = 8000)
table3$power
table1$params
table3$power |>
select(ndz)
library(tidyverse)
table3$power |>
select(ndz)
table3$power |>
select(ndz, g, b, p5:p8, Sdz)
table3$params |>
select(ndz, g, b, e5:e8, Sdz)
full_mx_data
# Packages
library(tidyverse)
library(cowplot)
library(gridExtra)
library(extrafont)
library(Cairo)
# Load in data sets
paper_power <- read.csv("paper_mx_power.csv")
setwd("~/Documents/GitHub/covAC-simulation-study-2024")
# Packages
library(tidyverse)
library(cowplot)
library(gridExtra)
library(extrafont)
library(Cairo)
# Load in data sets
paper_power <- read.csv("paper_mx_power.csv")
paper_estimates <- read.csv("paper_mx_estimates.csv")
sample_power <- read.csv("sample_power.csv")
sample_params <- read.csv("sample_params.csv")
dz_power <- read.csv("paper_dz_power.csv")
dz_params <- read.csv("paper_dz_estimates.csv")
# Plot 5 - Type I Error Rate for Four Different Strengths of PGS Predictive Power in the MZ & DZ vs. DZ-only Sample
p3_mx_data <- paper_power %>%
filter(b == 0) %>%
dplyr::select("g", "p3", "PGS") %>%
mutate(Variable = "Cultural Transmission", Sample = "MZ & DZ") %>%
rename(Parameter = g, Power = p3)
p4_mx_data <- paper_power %>%
filter(g == 0) %>%
dplyr::select("b", "p4", 'PGS') %>%
mutate(Variable = "Sibling Interaction", Sample = "MZ & DZ") %>%
rename(Parameter = b, Power = p4)
p7_mx_data <- dz_power %>%
filter(b == 0) %>%
dplyr::select("g", "p7", "PGS") %>%
mutate(Variable = "Cultural Transmission", Sample = "DZ") %>%
rename(Parameter = g, Power = p7)
p8_mx_data <- dz_power %>%
filter(g == 0) %>%
dplyr::select("b", "p8", 'PGS') %>%
mutate(Variable = "Sibling Interaction", Sample = "DZ") %>%
rename(Parameter = b, Power = p8)
full_mx_data <- rbind(p3_mx_data, p4_mx_data, p7_mx_data, p8_mx_data) %>%
mutate(PGS_percent = factor(scales::percent(PGS), levels = c("2%", "5%", "10%", "15%")))
full_mx_data
table3$params
sample_power
